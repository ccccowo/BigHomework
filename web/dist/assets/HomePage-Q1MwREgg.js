import{E as s}from"./el-button-wvYaTM86.js";/* empty css                 */import{E as a}from"./el-avatar-ew7ruJI5.js";import{_ as e,h as t,A as l,o,k as i,t as r,l as n,w as u,I as v,F as c,O as m,E as d,u as p,a as f,v as g,D as j,m as y,ag as h,x,y as k}from"./index-afE12XCz.js";import{t as U}from"./ai-nw8x7oml.js";import{u as b}from"./userStore-7h9e-sH4.js";import{u as w}from"./active-AkYPO1La.js";/* empty css                   */import{E as I}from"./index-N5fRpmYF.js";import{E as _}from"./index-JPUmXDR2.js";import{v as z}from"./directive-J_YZ0NkB.js";import"./request-MLV9EytQ.js";import"./axios--miOKxDG.js";const E="/assets/ai-LQUNiIpt.png",D=s=>(x("data-v-77f773a6"),s=s(),k(),s),C={class:"container"},F={class:"bottombottom"},S={class:"content"},T={key:0,class:"dialogbox"},V={class:"left"},q=D((()=>r("img",{src:E,alt:""},null,-1))),A=D((()=>r("div",{class:"right"},[r("div",{class:"name"},"人工智能"),r("div",{class:"res ai"},"需要做一些什么？")],-1))),H={class:"left"},K=D((()=>r("img",{src:E,alt:""},null,-1))),O={class:"right"},R={class:"name"},J={key:0,class:"res ai"},L={key:1,class:"res user"},N={class:"input"},P=e({__name:"HomePage",setup(e){const x=b();w();const k=t(""),E=t([]),D=t(!1),P=t(!1),Q=t("");t("");const B=async()=>{if(0==k.length)return void I.warning("发送数据不能为空");E.value.push({isUser:!0,info:k.value}),D.value=!0,E.value.push({isUser:!1,info:""}),P.value=!0;const s=new FormData;s.append("sysId","57C8F5F7-36A9-769C-26D3-6ED7C76D3602"),s.append("content",k.value),s.append("fresh",0),k.value="";const a=await U(s);Q.value=a.data;let e=0;const t=setInterval((()=>{if(e<Q.value.length){const s=Q.value.substring(e,e+1);E.value[E.value.length-1].info+=s,e+=1}else clearInterval(t)}),100);D.value=!1,P.value=!1};return l(E,(()=>{setTimeout((()=>{const s=document.querySelector(".bottombottom .content");s.scrollTop=s.scrollHeight}),0)}),{deep:!0}),(e,t)=>{var l;const U=a,b=_,w=s,I=z;return o(),i("div",C,[r("div",F,[r("div",S,[(null==(l=E.value[0])?void 0:l.info)?v("",!0):(o(),i("div",T,[r("div",V,[n(U,{size:35},{default:u((()=>[q])),_:1})]),A])),(o(!0),i(c,null,m(E.value,(s=>(o(),i("div",{class:"dialogbox",key:s.info},[r("div",H,[1==s.isUser?(o(),f(U,{key:0,size:35,src:p(x).userInfo.avatar},null,8,["src"])):v("",!0),0==s.isUser?(o(),f(U,{key:1,size:35},{default:u((()=>[K])),_:1})):v("",!0)]),r("div",O,[r("div",R,g(1==s.isUser?"你":"人工智能"),1),0==s.isUser?j((o(),i("div",J,[y(g(s.info),1)])),[[I,P.value&&""==s.info]]):v("",!0),1==s.isUser?(o(),i("div",L,g(s.info),1)):v("",!0)])])))),128))]),r("div",N,[n(b,{class:"area",onKeyup:d(B,["enter"]),modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=s=>k.value=s),size:"large",type:"textarea",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"]),n(w,{icon:p(h),color:"#045afe",onClick:B,size:"large",loading:D.value},null,8,["icon","loading"])])])])}}},[["__scopeId","data-v-77f773a6"]]);export{P as default};
