import{d as e,c as s,o as t,k as n,r as a,l as o,w as l,u as r,n as u,v as d,t as i,W as p,D as c,X as m,b5 as f,h as g,B as y,A as v,a as x,b,I as C,e as h,F as T,L as N,M as _,aC as B,at as S,aD as k}from"./index-afE12XCz.js";import{b as w,u as I,i as L,_ as M,w as $,x as z,d as D,m as E,P as H,R as F,S as U,z as j,G as A,a as R,T as q,F as O,y as W,W as Z,a4 as G}from"./el-button-wvYaTM86.js";const P={},X=w({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),J=["textContent"],K=e({name:"ElBadge"});const Q=$(M(e({...K,props:X,setup(e,{expose:f}){const g=e,y=I("badge"),v=s((()=>g.isDot?"":L(g.value)&&L(g.max)&&g.max<g.value?`${g.max}+`:`${g.value}`));return f({content:v}),(e,s)=>(t(),n("div",{class:u(r(y).b())},[a(e.$slots,"default"),o(m,{name:`${r(y).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[c(i("sup",{class:u([r(y).e("content"),r(y).em("content",e.type),r(y).is("fixed",!!e.$slots.default),r(y).is("dot",e.isDot)]),textContent:d(r(v))},null,10,J),[[p,!e.hidden&&(r(v)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","badge.vue"]])),V=["success","info","warning","error"],Y=E({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:H?document.body:void 0}),ee=w({customClass:{type:String,default:Y.customClass},center:{type:Boolean,default:Y.center},dangerouslyUseHTMLString:{type:Boolean,default:Y.dangerouslyUseHTMLString},duration:{type:Number,default:Y.duration},icon:{type:z,default:Y.icon},id:{type:String,default:Y.id},message:{type:D([String,Object,Function]),default:Y.message},onClose:{type:D(Function),required:!1},showClose:{type:Boolean,default:Y.showClose},type:{type:String,values:V,default:Y.type},offset:{type:Number,default:Y.offset},zIndex:{type:Number,default:Y.zIndex},grouping:{type:Boolean,default:Y.grouping},repeatNum:{type:Number,default:Y.repeatNum}}),se=f([]),te=e=>{const{prev:s}=(e=>{const s=se.findIndex((s=>s.id===e)),t=se[s];let n;return s>0&&(n=se[s-1]),{current:t,prev:n}})(e);return s?s.vm.exposed.bottom.value:0},ne=["id"],ae=["innerHTML"],oe=e({name:"ElMessage"});var le=M(e({...oe,props:ee,emits:{destroy:()=>!0},setup(e,{expose:f}){const _=e,{Close:B}=q,{ns:S,zIndex:k}=F("message"),{currentZIndex:w,nextZIndex:I}=k,L=g(),M=g(!1),$=g(0);let z;const D=s((()=>_.type?"error"===_.type?"danger":_.type:"info")),E=s((()=>{const e=_.type;return{[S.bm("icon",e)]:e&&U[e]}})),H=s((()=>_.icon||U[_.type]||"")),Z=s((()=>te(_.id))),G=s((()=>((e,s)=>se.findIndex((s=>s.id===e))>0?20:s)(_.id,_.offset)+Z.value)),P=s((()=>$.value+G.value)),X=s((()=>({top:`${G.value}px`,zIndex:w.value})));function J(){0!==_.duration&&({stop:z}=O((()=>{V()}),_.duration))}function K(){null==z||z()}function V(){M.value=!1}return y((()=>{J(),I(),M.value=!0})),v((()=>_.repeatNum),(()=>{K(),J()})),j(document,"keydown",(function({code:e}){e===W.esc&&V()})),A(L,(()=>{$.value=L.value.getBoundingClientRect().height})),f({visible:M,bottom:P,close:V}),(e,s)=>(t(),x(m,{name:r(S).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[0]||(s[0]=s=>e.$emit("destroy")),persisted:""},{default:l((()=>[c(i("div",{id:e.id,ref_key:"messageRef",ref:L,class:u([r(S).b(),{[r(S).m(e.type)]:e.type&&!e.icon},r(S).is("center",e.center),r(S).is("closable",e.showClose),e.customClass]),style:b(r(X)),role:"alert",onMouseenter:K,onMouseleave:J},[e.repeatNum>1?(t(),x(r(Q),{key:0,value:e.repeatNum,type:r(D),class:u(r(S).e("badge"))},null,8,["value","type","class"])):C("v-if",!0),r(H)?(t(),x(r(R),{key:1,class:u([r(S).e("icon"),r(E)])},{default:l((()=>[(t(),x(h(r(H))))])),_:1},8,["class"])):C("v-if",!0),a(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),n(T,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),i("p",{class:u(r(S).e("content")),innerHTML:e.message},null,10,ae)],2112)):(t(),n("p",{key:0,class:u(r(S).e("content"))},d(e.message),3))])),e.showClose?(t(),x(r(R),{key:2,class:u(r(S).e("closeBtn")),onClick:N(V,["stop"])},{default:l((()=>[o(r(B))])),_:1},8,["class","onClick"])):C("v-if",!0)],46,ne),[[p,M.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","message.vue"]]);let re=1;const ue=e=>{const s=!e||_(e)||B(e)||S(e)?{message:e}:e,t={...Y,...s};if(t.appendTo){if(_(t.appendTo)){let e=document.querySelector(t.appendTo);Z(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return t},de=({appendTo:e,...s},t)=>{const n="message_"+re++,a=s.onClose,l=document.createElement("div"),r={...s,id:n,onClose:()=>{null==a||a(),(e=>{const s=se.indexOf(e);if(-1===s)return;se.splice(s,1);const{handler:t}=e;t.close()})(p)},onDestroy:()=>{k(null,l)}},u=o(le,r,S(r.message)||B(r.message)?{default:S(r.message)?r.message:()=>r.message}:null);u.appContext=t||ie._context,k(u,l),e.appendChild(l.firstElementChild);const d=u.component,i={close:()=>{d.exposed.visible.value=!1}},p={id:n,vnode:u,vm:d,handler:i,props:u.component.props};return p},ie=(e={},s)=>{if(!H)return{close:()=>{}};if(L(P.max)&&se.length>=P.max)return{close:()=>{}};const t=ue(e);if(t.grouping&&se.length){const e=se.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}const n=de(t,s);return se.push(n),n.handler};V.forEach((e=>{ie[e]=(s={},t)=>{const n=ue(s);return ie({...n,type:e},t)}})),ie.closeAll=function(e){for(const s of se)e&&e!==s.props.type||s.handler.close()},ie._context=null;const pe=G(ie,"$message");export{pe as E};
