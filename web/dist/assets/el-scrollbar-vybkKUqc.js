import{b as e,_ as a,u as l,t,z as r,P as s,d as o,i,o as n,G as u,w as v}from"./el-button-wvYaTM86.js";import{d as c,i as f,h as m,c as d,a6 as p,a2 as h,o as y,a as g,w,u as b,n as S,b as z,t as x,W as _,D as E,X as L,k as T,l as k,F as B,A as H,T as C,p as R,z as N,B as A,C as W,r as X,e as j,I as M,f as Y}from"./index-afE12XCz.js";const $={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},O=Symbol("scrollbarContextKey"),P=e({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean});var I=a(c({__name:"thumb",props:P,setup(e){const a=e,o=f(O),i=l("scrollbar");o||t("Thumb","can not inject scrollbar context");const n=m(),u=m(),v=m({}),c=m(!1);let T=!1,k=!1,B=s?document.onselectstart:null;const H=d((()=>$[a.vertical?"vertical":"horizontal"])),C=d((()=>(({move:e,size:a,bar:l})=>({[l.size]:a,transform:`translate${l.axis}(${e}%)`}))({size:a.size,move:a.move,bar:H.value}))),R=d((()=>n.value[H.value.offset]**2/o.wrapElement[H.value.scrollSize]/a.ratio/u.value[H.value.offset])),N=e=>{var a;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(a=window.getSelection())||a.removeAllRanges(),W(e);const l=e.currentTarget;l&&(v.value[H.value.axis]=l[H.value.offset]-(e[H.value.client]-l.getBoundingClientRect()[H.value.direction]))},A=e=>{if(!u.value||!n.value||!o.wrapElement)return;const a=100*(Math.abs(e.target.getBoundingClientRect()[H.value.direction]-e[H.value.client])-u.value[H.value.offset]/2)*R.value/n.value[H.value.offset];o.wrapElement[H.value.scroll]=a*o.wrapElement[H.value.scrollSize]/100},W=e=>{e.stopImmediatePropagation(),T=!0,document.addEventListener("mousemove",X),document.addEventListener("mouseup",j),B=document.onselectstart,document.onselectstart=()=>!1},X=e=>{if(!n.value||!u.value)return;if(!1===T)return;const a=v.value[H.value.axis];if(!a)return;const l=100*(-1*(n.value.getBoundingClientRect()[H.value.direction]-e[H.value.client])-(u.value[H.value.offset]-a))*R.value/n.value[H.value.offset];o.wrapElement[H.value.scroll]=l*o.wrapElement[H.value.scrollSize]/100},j=()=>{T=!1,v.value[H.value.axis]=0,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",j),M(),k&&(c.value=!1)};p((()=>{M(),document.removeEventListener("mouseup",j)}));const M=()=>{document.onselectstart!==B&&(document.onselectstart=B)};return r(h(o,"scrollbarElement"),"mousemove",(()=>{k=!1,c.value=!!a.size})),r(h(o,"scrollbarElement"),"mouseleave",(()=>{k=!0,c.value=T})),(e,a)=>(y(),g(L,{name:b(i).b("fade"),persisted:""},{default:w((()=>[E(x("div",{ref_key:"instance",ref:n,class:S([b(i).e("bar"),b(i).is(b(H).key)]),onMousedown:A},[x("div",{ref_key:"thumb",ref:u,class:S(b(i).e("thumb")),style:z(b(C)),onMousedown:N},null,38)],34),[[_,e.always||c.value]])])),_:1},8,["name"]))}}),[["__file","thumb.vue"]]);var K=a(c({__name:"bar",props:e({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),setup(e,{expose:a}){const l=e,t=m(0),r=m(0);return a({handleScroll:e=>{if(e){const a=e.offsetHeight-4,s=e.offsetWidth-4;r.value=100*e.scrollTop/a*l.ratioY,t.value=100*e.scrollLeft/s*l.ratioX}}}),(e,a)=>(y(),T(B,null,[k(I,{move:t.value,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),k(I,{move:r.value,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const q=e({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:o([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),D={scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(i)},F=c({name:"ElScrollbar"});const G=v(a(c({...F,props:q,emits:D,setup(e,{expose:a,emit:t}){const s=e,o=l("scrollbar");let v,c;const f=m(),p=m(),h=m(),_=m("0"),E=m("0"),L=m(),k=m(1),B=m(1),$=d((()=>{const e={};return s.height&&(e.height=n(s.height)),s.maxHeight&&(e.maxHeight=n(s.maxHeight)),[s.wrapStyle,e]})),P=d((()=>[s.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!s.native}])),I=d((()=>[o.e("view"),s.viewClass])),q=()=>{var e;p.value&&(null==(e=L.value)||e.handleScroll(p.value),t("scroll",{scrollTop:p.value.scrollTop,scrollLeft:p.value.scrollLeft}))};const D=()=>{if(!p.value)return;const e=p.value.offsetHeight-4,a=p.value.offsetWidth-4,l=e**2/p.value.scrollHeight,t=a**2/p.value.scrollWidth,r=Math.max(l,s.minSize),o=Math.max(t,s.minSize);k.value=l/(e-l)/(r/(e-r)),B.value=t/(a-t)/(o/(a-o)),E.value=r+4<e?`${r}px`:"",_.value=o+4<a?`${o}px`:""};return H((()=>s.noresize),(e=>{e?(null==v||v(),null==c||c()):(({stop:v}=u(h,D)),c=r("resize",D))}),{immediate:!0}),H((()=>[s.maxHeight,s.height]),(()=>{s.native||C((()=>{var e;D(),p.value&&(null==(e=L.value)||e.handleScroll(p.value))}))})),R(O,N({scrollbarElement:f,wrapElement:p})),A((()=>{s.native||C((()=>{D()}))})),W((()=>D())),a({wrapRef:p,update:D,scrollTo:function(e,a){Y(e)?p.value.scrollTo(e):i(e)&&i(a)&&p.value.scrollTo(e,a)},setScrollTop:e=>{i(e)&&(p.value.scrollTop=e)},setScrollLeft:e=>{i(e)&&(p.value.scrollLeft=e)},handleScroll:q}),(e,a)=>(y(),T("div",{ref_key:"scrollbarRef",ref:f,class:S(b(o).b())},[x("div",{ref_key:"wrapRef",ref:p,class:S(b(P)),style:z(b($)),onScroll:q},[(y(),g(j(e.tag),{id:e.id,ref_key:"resizeRef",ref:h,class:S(b(I)),style:z(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:w((()=>[X(e.$slots,"default")])),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?M("v-if",!0):(y(),g(K,{key:0,ref_key:"barRef",ref:L,height:E.value,width:_.value,always:e.always,"ratio-x":B.value,"ratio-y":k.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}),[["__file","scrollbar.vue"]]));export{G as E};
