import{b as e,d as t,y as n,_ as o,z as l,q as a,E as r,a as s,u as i,f as u,o as d,j as c,w as p,s as v,A as m,B as f,D as h,v as b,t as g,x as y,F as w,G as x,m as I,e as C}from"./el-button-wvYaTM86.js";import{E as M,a as k,c as E,b as _}from"./el-main-SzJ5Bc3_.js";import"./el-tooltip-w40geAFS.js";import{c as S,E as T,O as $,w as F,C as P}from"./el-popper-uBN1jnws.js";import{t as B,E as A}from"./el-button-group-JEOCQMp2.js";import{E as O}from"./el-scrollbar-vybkKUqc.js";/* empty css                */import{E as R}from"./el-avatar-ew7ruJI5.js";import{d as z,h as L,i as D,c as j,p as N,a1 as G,a2 as K,u as W,A as H,r as q,j as U,o as V,a as J,w as Y,a3 as Q,a4 as X,l as Z,T as ee,G as te,a5 as ne,a6 as oe,k as le,a7 as ae,N as re,n as se,I as ie,t as ue,e as de,L as ce,F as pe,b as ve,X as me,a8 as fe,a9 as he,z as be,B as ge,aa as ye,M as we,D as xe,W as Ie,ab as Ce,ac as Me,f as ke,m as Ee,v as _e,_ as Se,g as Te,q as $e,ad as Fe,ae as Pe,af as Be,x as Ae,y as Oe}from"./index-afE12XCz.js";import{u as Re}from"./userStore-7h9e-sH4.js";import{u as ze}from"./active-AkYPO1La.js";import{E as Le}from"./index-N5fRpmYF.js";import{c as De,E as je,d as Ne,a as Ge,C as Ke,b as We,e as He,f as qe,g as Ue,F as Ve,L as Je}from"./dropdown-mRi2qNw8.js";import{c as Ye}from"./castArray-k9TcYJOl.js";import{c as Qe}from"./index-KKobhxVb.js";import{F as Xe,f as Ze}from"./focus-trap-5pso-6bw.js";import{_ as et}from"./index-ldI0-Ir2.js";import"./index-JPUmXDR2.js";import"./validator-X17wg_rN.js";const tt=e({style:{type:t([String,Array,Object])},currentTabId:{type:t(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:t(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:nt,ElCollectionItem:ot,COLLECTION_INJECTION_KEY:lt,COLLECTION_ITEM_INJECTION_KEY:at}=De("RovingFocusGroup"),rt=Symbol("elRovingFocusGroup"),st=Symbol("elRovingFocusGroupItem"),it={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ut=(e,t,o)=>{const l=((e,t)=>{if("rtl"!==t)return e;switch(e){case n.right:return n.left;case n.left:return n.right;default:return e}})(e.key,o);if(!("vertical"===t&&[n.left,n.right].includes(l)||"horizontal"===t&&[n.up,n.down].includes(l)))return it[l]},dt=e=>{const{activeElement:t}=document;for(const n of e){if(n===t)return;if(n.focus(),t!==document.activeElement)return}},ct="currentTabIdChange",pt="rovingFocusGroup.entryFocus",vt={bubbles:!1,cancelable:!0},mt=z({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:tt,emits:[ct,"entryFocus"],setup(e,{emit:t}){var n;const o=L(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),a=L(!1),r=L(!1),s=L(null),{getItems:i}=D(lt,void 0),u=j((()=>[{outline:"none"},e.style])),d=S((t=>{var n;null==(n=e.onMousedown)||n.call(e,t)}),(()=>{r.value=!0})),c=S((t=>{var n;null==(n=e.onFocus)||n.call(e,t)}),(e=>{const t=!W(r),{target:n,currentTarget:l}=e;if(n===l&&t&&!W(a)){const e=new Event(pt,vt);if(null==l||l.dispatchEvent(e),!e.defaultPrevented){const e=i().filter((e=>e.focusable)),t=[e.find((e=>e.active)),e.find((e=>e.id===W(o))),...e].filter(Boolean).map((e=>e.ref));dt(t)}}r.value=!1})),p=S((t=>{var n;null==(n=e.onBlur)||n.call(e,t)}),(()=>{a.value=!1}));N(rt,{currentTabbedId:G(o),loop:K(e,"loop"),tabIndex:j((()=>W(a)?-1:0)),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:u,orientation:K(e,"orientation"),dir:K(e,"dir"),onItemFocus:e=>{t(ct,e)},onItemShiftTab:()=>{a.value=!0},onBlur:p,onFocus:c,onMousedown:d}),H((()=>e.currentTabId),(e=>{o.value=null!=e?e:null})),l(s,pt,((...e)=>{t("entryFocus",...e)}))}});var ft=o(z({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:nt,ElRovingFocusGroupImpl:o(mt,[["render",function(e,t,n,o,l,a){return q(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,t,n,o,l,a){const r=U("el-roving-focus-group-impl"),s=U("el-focus-group-collection");return V(),J(s,null,{default:Y((()=>[Z(r,X(Q(e.$attrs)),{default:Y((()=>[q(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","roving-focus-group.vue"]]);var ht=o(z({components:{ElRovingFocusCollectionItem:ot},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:o,loop:l,onItemFocus:r,onItemShiftTab:s}=D(rt,void 0),{getItems:i}=D(lt,void 0),u=a(),d=L(null),c=S((e=>{t("mousedown",e)}),(t=>{e.focusable?r(W(u)):t.preventDefault()})),p=S((e=>{t("focus",e)}),(()=>{r(W(u))})),v=S((e=>{t("keydown",e)}),(e=>{const{key:t,shiftKey:o,target:a,currentTarget:r}=e;if(t===n.tab&&o)return void s();if(a!==r)return;const u=ut(e);if(u){e.preventDefault();let t=i().filter((e=>e.focusable)).map((e=>e.ref));switch(u){case"last":t.reverse();break;case"prev":case"next":{"prev"===u&&t.reverse();const e=t.indexOf(r);t=l.value?(c=e+1,(d=t).map(((e,t)=>d[(t+c)%d.length]))):t.slice(e+1);break}}ee((()=>{dt(t)}))}var d,c})),m=j((()=>o.value===W(u)));return N(st,{rovingFocusGroupItemRef:d,tabIndex:j((()=>W(m)?0:-1)),handleMousedown:c,handleFocus:p,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:p,handleMousedown:c}}}),[["render",function(e,t,n,o,l,a){const r=U("el-roving-focus-collection-item");return V(),J(r,{id:e.id,focusable:e.focusable,active:e.active},{default:Y((()=>[q(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const bt=Symbol("elDropdown"),{ButtonGroup:gt}=r;var yt=o(z({name:"ElDropdown",components:{ElButton:r,ElButtonGroup:gt,ElScrollbar:O,ElDropdownCollection:je,ElTooltip:T,ElRovingFocusGroup:ft,ElOnlyChild:$,ElIcon:s,ArrowDown:te},props:Ne,emits:["visible-change","click","command"],setup(e,{emit:t}){const o=ne(),l=i("dropdown"),{t:r}=u(),s=L(),p=L(),v=L(null),m=L(null),f=L(null),h=L(null),b=L(!1),g=[n.enter,n.space,n.down],y=j((()=>({maxHeight:d(e.maxHeight)}))),w=j((()=>[l.m(k.value)])),x=j((()=>Ye(e.trigger))),I=a().value,C=j((()=>e.id||I));function M(){var e;null==(e=v.value)||e.onClose()}H([s,x],(([e,t],[n])=>{var o,l,a;(null==(o=null==n?void 0:n.$el)?void 0:o.removeEventListener)&&n.$el.removeEventListener("pointerenter",E),(null==(l=null==e?void 0:e.$el)?void 0:l.removeEventListener)&&e.$el.removeEventListener("pointerenter",E),(null==(a=null==e?void 0:e.$el)?void 0:a.addEventListener)&&t.includes("hover")&&e.$el.addEventListener("pointerenter",E)}),{immediate:!0}),oe((()=>{var e,t;(null==(t=null==(e=s.value)?void 0:e.$el)?void 0:t.removeEventListener)&&s.value.$el.removeEventListener("pointerenter",E)}));const k=c();function E(){var e,t;null==(t=null==(e=s.value)?void 0:e.$el)||t.focus()}N(bt,{contentRef:m,role:j((()=>e.role)),triggerId:C,isUsingKeyboard:b,onItemEnter:function(){},onItemLeave:function(){const e=W(m);x.value.includes("hover")&&(null==e||e.focus()),h.value=null}}),N("elDropdown",{instance:o,dropdownSize:k,handleClick:function(){M()},commandHandler:function(...e){t("command",...e)},trigger:K(e,"trigger"),hideOnClick:K(e,"hideOnClick")});return{t:r,ns:l,scrollbar:f,wrapStyle:y,dropdownTriggerKls:w,dropdownSize:k,triggerId:C,triggerKeys:g,currentTabId:h,handleCurrentTabIdChange:function(e){h.value=e},handlerMainButtonClick:e=>{t("click",e)},handleEntryFocus:function(e){b.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:M,handleOpen:function(){var e;null==(e=v.value)||e.onOpen()},handleBeforeShowTooltip:function(){t("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&m.value.focus()},handleBeforeHideTooltip:function(){t("visible-change",!1)},onFocusAfterTrapped:e=>{var t,n;e.preventDefault(),null==(n=null==(t=m.value)?void 0:t.focus)||n.call(t,{preventScroll:!0})},popperRef:v,contentRef:m,triggeringElementRef:s,referenceElementRef:p}}}),[["render",function(e,t,n,o,l,a){var r;const s=U("el-dropdown-collection"),i=U("el-roving-focus-group"),u=U("el-scrollbar"),d=U("el-only-child"),c=U("el-tooltip"),p=U("el-button"),v=U("arrow-down"),m=U("el-icon"),f=U("el-button-group");return V(),le("div",{class:se([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Z(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(r=e.referenceElementRef)?void 0:r.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ae({content:Y((()=>[Z(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Y((()=>[Z(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Y((()=>[Z(s,null,{default:Y((()=>[q(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:Y((()=>[Z(d,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:Y((()=>[q(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(V(),J(f,{key:0},{default:Y((()=>[Z(p,re({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Y((()=>[q(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),Z(p,re({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Y((()=>[Z(m,{class:se(e.ns.e("icon"))},{default:Y((()=>[Z(v)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):ie("v-if",!0)],2)}],["__file","dropdown.vue"]]);const wt=z({name:"DropdownItemImpl",components:{ElIcon:s},props:Ge,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const o=i("dropdown"),{role:l}=D(bt,void 0),{collectionItemRef:a}=D(Ke,void 0),{collectionItemRef:r}=D(at,void 0),{rovingFocusGroupItemRef:s,tabIndex:u,handleFocus:d,handleKeydown:c,handleMousedown:p}=D(st,void 0),v=Qe(a,r,s),m=j((()=>"menu"===l.value?"menuitem":"navigation"===l.value?"link":"button")),f=S((e=>{const{code:o}=e;if(o===n.enter||o===n.space)return e.preventDefault(),e.stopImmediatePropagation(),t("clickimpl",e),!0}),c);return{ns:o,itemRef:v,dataset:{[We]:""},role:m,tabIndex:u,handleFocus:d,handleKeydown:f,handleMousedown:p}}}),xt=["aria-disabled","tabindex","role"];const It=()=>{const e=D("elDropdown",{}),t=j((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:t}};var Ct=o(z({name:"ElDropdownItem",components:{ElDropdownCollectionItem:He,ElRovingFocusItem:ht,ElDropdownItemImpl:o(wt,[["render",function(e,t,n,o,l,a){const r=U("el-icon");return V(),le(pe,null,[e.divided?(V(),le("li",re({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):ie("v-if",!0),ue("li",re({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=t=>e.$emit("clickimpl",t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onKeydown:t[2]||(t[2]=ce(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),onPointermove:t[4]||(t[4]=t=>e.$emit("pointermove",t)),onPointerleave:t[5]||(t[5]=t=>e.$emit("pointerleave",t))}),[e.icon?(V(),J(r,{key:0},{default:Y((()=>[(V(),J(de(e.icon)))])),_:1})):ie("v-if",!0),q(e.$slots,"default")],16,xt)],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:Ge,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:o}=It(),l=ne(),a=L(null),r=j((()=>{var e,t;return null!=(t=null==(e=W(a))?void 0:e.textContent)?t:""})),{onItemEnter:s,onItemLeave:i}=D(bt,void 0),u=S((e=>(t("pointermove",e),e.defaultPrevented)),F((t=>{if(e.disabled)return void i(t);const n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(s(t),t.defaultPrevented||null==n||n.focus())}))),d=S((e=>(t("pointerleave",e),e.defaultPrevented)),F((e=>{i(e)})));return{handleClick:S((n=>{if(!e.disabled)return t("click",n),"keydown"!==n.type&&n.defaultPrevented}),(t=>{var n,a,r;e.disabled?t.stopImmediatePropagation():((null==(n=null==o?void 0:o.hideOnClick)?void 0:n.value)&&(null==(a=o.handleClick)||a.call(o)),null==(r=o.commandHandler)||r.call(o,e.command,l,t))})),handlePointerMove:u,handlePointerLeave:d,textContent:r,propsAndAttrs:j((()=>({...e,...n})))}}}),[["render",function(e,t,n,o,l,a){var r;const s=U("el-dropdown-item-impl"),i=U("el-roving-focus-item"),u=U("el-dropdown-collection-item");return V(),J(u,{disabled:e.disabled,"text-value":null!=(r=e.textValue)?r:e.textContent},{default:Y((()=>[Z(i,{focusable:!e.disabled},{default:Y((()=>[Z(s,re(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Y((()=>[q(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const Mt=z({name:"ElDropdownMenu",props:qe,setup(e){const t=i("dropdown"),{_elDropdownSize:o}=It(),l=o.value,{focusTrapRef:a,onKeydown:r}=D(Xe,void 0),{contentRef:s,role:u,triggerId:d}=D(bt,void 0),{collectionRef:c,getItems:p}=D(Ue,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:m,tabIndex:f,onBlur:h,onFocus:b,onMousedown:g}=D(rt,void 0),{collectionRef:y}=D(lt,void 0),w=j((()=>[t.b("menu"),t.bm("menu",null==l?void 0:l.value)])),x=Qe(s,c,a,v,y),I=S((t=>{var n;null==(n=e.onKeydown)||n.call(e,t)}),(e=>{const{currentTarget:t,code:o,target:l}=e;if(t.contains(l),n.tab===o&&e.stopImmediatePropagation(),e.preventDefault(),l!==W(s))return;if(!Ve.includes(o))return;const a=p().filter((e=>!e.disabled)).map((e=>e.ref));Je.includes(o)&&a.reverse(),dt(a)}));return{size:l,rovingFocusGroupRootStyle:m,tabIndex:f,dropdownKls:w,role:u,triggerId:d,dropdownListWrapperRef:x,handleKeydown:e=>{I(e),r(e)},onBlur:h,onFocus:b,onMousedown:g}}}),kt=["role","aria-labelledby"];var Et=o(Mt,[["render",function(e,t,n,o,l,a){return V(),le("ul",{ref:e.dropdownListWrapperRef,class:se(e.dropdownKls),style:ve(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:t[1]||(t[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onKeydown:t[2]||(t[2]=ce(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=ce(((...t)=>e.onMousedown&&e.onMousedown(...t)),["self"]))},[q(e.$slots,"default")],46,kt)}],["__file","dropdown-menu.vue"]]);const _t=p(yt,{DropdownItem:Ct,DropdownMenu:Et}),St=v(Ct),Tt=v(Et);let $t=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let o=!1;switch(t.code){case n.down:this.gotoSubIndex(this.subIndex+1),o=!0;break;case n.up:this.gotoSubIndex(this.subIndex-1),o=!0;break;case n.tab:B(e,"mouseleave");break;case n.enter:case n.space:o=!0,t.currentTarget.click()}return o&&(t.preventDefault(),t.stopPropagation()),!1}))}))}},Ft=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new $t(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case n.down:B(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case n.up:B(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case n.tab:B(e.currentTarget,"mouseleave");break;case n.enter:case n.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()}))}},Pt=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new Ft(t,e)}))}};var Bt=o(z({name:"ElMenuCollapseTransition",setup(){const e=i("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,n){m(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){f(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),h(t,e.m("collapse"))?(f(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),m(t,e.m("collapse"))):(m(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),f(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){m(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}}),[["render",function(e,t,n,o,l,a){return V(),J(me,re({mode:"out-in"},e.listeners),{default:Y((()=>[q(e.$slots,"default")])),_:3},16)}],["__file","menu-collapse-transition.vue"]]);function At(e,t){const n=j((()=>{let n=e.parent;const o=[t.value];for(;"ElMenu"!==n.type.name;)n.props.index&&o.unshift(n.props.index),n=n.parent;return o}));return{parentMenu:j((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:n}}function Ot(e){return j((()=>{const t=e.backgroundColor;return t?new fe(t).shade(20).toString():""}))}const Rt=(e,t)=>{const n=i("menu");return j((()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Ot(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},zt=e({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:void 0},expandCloseIcon:{type:y},expandOpenIcon:{type:y},collapseCloseIcon:{type:y},collapseOpenIcon:{type:y}}),Lt="ElSubMenu";var Dt=z({name:Lt,props:zt,setup(e,{slots:t,expose:n}){b({from:"popper-append-to-body",replacement:"teleported",scope:Lt,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},j((()=>void 0!==e.popperAppendToBody)));const o=ne(),{indexPath:l,parentMenu:a}=At(o,j((()=>e.index))),r=i("menu"),u=i("sub-menu"),d=D("rootMenu");d||g(Lt,"can not inject root menu");const c=D(`subMenu:${a.value.uid}`);c||g(Lt,"can not inject sub menu");const p=L({}),v=L({});let m;const f=L(!1),h=L(),y=L(null),x=j((()=>"horizontal"===$.value&&C.value?"bottom-start":"right-start")),I=j((()=>"horizontal"===$.value&&C.value||"vertical"===$.value&&!d.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?_.value?e.expandOpenIcon:e.expandCloseIcon:te:e.collapseCloseIcon&&e.collapseOpenIcon?_.value?e.collapseOpenIcon:e.collapseCloseIcon:he)),C=j((()=>0===c.level)),M=j((()=>{var t;const n=null!=(t=e.teleported)?t:e.popperAppendToBody;return void 0===n?C.value:n})),k=j((()=>d.props.collapse?`${r.namespace.value}-zoom-in-left`:`${r.namespace.value}-zoom-in-top`)),E=j((()=>"horizontal"===$.value&&C.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"])),_=j((()=>d.openedMenus.includes(e.index))),S=j((()=>{let e=!1;return Object.values(p.value).forEach((t=>{t.active&&(e=!0)})),Object.values(v.value).forEach((t=>{t.active&&(e=!0)})),e})),$=j((()=>d.props.mode)),F=be({index:e.index,indexPath:l,active:S}),P=Rt(d.props,c.level+1),B=j((()=>{var t;return null!=(t=e.popperOffset)?t:d.props.popperOffset})),A=e=>{var t,n,o;e||null==(o=null==(n=null==(t=y.value)?void 0:t.popperRef)?void 0:n.popperInstanceRef)||o.destroy()},O=()=>{"hover"===d.props.menuTrigger&&"horizontal"===d.props.mode||d.props.collapse&&"vertical"===d.props.mode||e.disabled||d.handleSubMenuClick({index:e.index,indexPath:l.value,active:S.value})},R=(t,n=e.showTimeout)=>{var o;"focus"!==t.type&&("click"===d.props.menuTrigger&&"horizontal"===d.props.mode||!d.props.collapse&&"vertical"===d.props.mode||e.disabled?c.mouseInChild.value=!0:(c.mouseInChild.value=!0,null==m||m(),({stop:m}=w((()=>{d.openMenu(e.index,l.value)}),n)),M.value&&(null==(o=a.value.vnode.el)||o.dispatchEvent(new MouseEvent("mouseenter")))))},z=(t=!1)=>{var n,a;"click"===d.props.menuTrigger&&"horizontal"===d.props.mode||!d.props.collapse&&"vertical"===d.props.mode?c.mouseInChild.value=!1:(null==m||m(),c.mouseInChild.value=!1,({stop:m}=w((()=>!f.value&&d.closeMenu(e.index,l.value)),e.hideTimeout)),M.value&&t&&"ElSubMenu"===(null==(n=o.parent)?void 0:n.type.name)&&(null==(a=c.handleMouseleave)||a.call(c,!0)))};H((()=>d.props.collapse),(e=>A(Boolean(e))));{const e=e=>{v.value[e.index]=e},t=e=>{delete v.value[e.index]};N(`subMenu:${o.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:z,mouseInChild:f,level:c.level+1})}return n({opened:_}),ge((()=>{d.addSubMenu(F),c.addSubMenu(F)})),oe((()=>{c.removeSubMenu(F),d.removeSubMenu(F)})),()=>{var n;const l=[null==(n=t.title)?void 0:n.call(t),ye(s,{class:u.e("icon-arrow"),style:{transform:_.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&d.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>we(I.value)?ye(o.appContext.components[I.value]):ye(I.value)})],a=d.isMenuPopup?ye(T,{ref:y,visible:_.value,effect:"light",pure:!0,offset:B.value,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:x.value,teleported:M.value,fallbackPlacements:E.value,transition:k.value,gpuAcceleration:!1},{content:()=>{var n;return ye("div",{class:[r.m($.value),r.m("popup-container"),e.popperClass],onMouseenter:e=>R(e,100),onMouseleave:()=>z(!0),onFocus:e=>R(e,100)},[ye("ul",{class:[r.b(),r.m("popup"),r.m(`popup-${x.value}`)],style:P.value},[null==(n=t.default)?void 0:n.call(t)])])},default:()=>ye("div",{class:u.e("title"),onClick:O},l)}):ye(pe,{},[ye("div",{class:u.e("title"),ref:h,onClick:O},l),ye(et,{},{default:()=>{var e;return xe(ye("ul",{role:"menu",class:[r.b(),r.m("inline")],style:P.value},[null==(e=t.default)?void 0:e.call(t)]),[[Ie,_.value]])}})]);return ye("li",{class:[u.b(),u.is("active",S.value),u.is("opened",_.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:_.value,onMouseenter:R,onMouseleave:()=>z(!0),onFocus:R},[a])}}});const jt=e({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:t(Array),default:()=>I([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:y,default:()=>Me},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Nt=e=>Array.isArray(e)&&e.every((e=>we(e)));var Gt=z({name:"ElMenu",props:jt,emits:{close:(e,t)=>we(e)&&Nt(t),open:(e,t)=>we(e)&&Nt(t),select:(e,t,n,o)=>we(e)&&Nt(t)&&ke(n)&&(void 0===o||o instanceof Promise)},setup(e,{emit:t,slots:n,expose:o}){const l=ne(),a=l.appContext.config.globalProperties.$router,r=L(),u=i("menu"),d=i("sub-menu"),c=L(-1),p=L(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=L(e.defaultActive),m=L({}),f=L({}),h=j((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),b=(n,o)=>{p.value.includes(n)||(e.uniqueOpened&&(p.value=p.value.filter((e=>o.includes(e)))),p.value.push(n),t("open",n,o))},g=e=>{const t=p.value.indexOf(e);-1!==t&&p.value.splice(t,1)},y=(e,n)=>{g(e),t("close",e,n)},w=({index:e,indexPath:t})=>{p.value.includes(e)?y(e,t):b(e,t)},I=n=>{("horizontal"===e.mode||e.collapse)&&(p.value=[]);const{index:o,indexPath:l}=n;if(!C(o)&&!C(l))if(e.router&&a){const e=n.route||o,r=a.push(e).then((e=>(e||(v.value=o),e)));t("select",o,l,{index:o,indexPath:l,route:e},r)}else v.value=o,t("select",o,l,{index:o,indexPath:l})};let M=!0;const k=()=>{const e=()=>{c.value=-1,ee((()=>{c.value=(()=>{var e,t;if(!r.value)return-1;const n=Array.from(null!=(t=null==(e=r.value)?void 0:e.childNodes)?t:[]).filter((e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue))),o=Number.parseInt(getComputedStyle(r.value).paddingLeft,10),l=Number.parseInt(getComputedStyle(r.value).paddingRight,10),a=r.value.clientWidth-o-l;let s=0,i=0;return n.forEach(((e,t)=>{s+=e.offsetWidth||0,s<=a-64&&(i=t+1)})),i===n.length?-1:i})()}))};M?e():((e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{e()}),t)}})(e)(),M=!1};let E;H((()=>e.defaultActive),(t=>{m.value[t]||(v.value=""),(t=>{const n=m.value,o=n[t]||v.value&&n[v.value]||n[e.defaultActive];v.value=o?o.index:t})(t)})),H((()=>e.collapse),(e=>{e&&(p.value=[])})),H(m.value,(()=>{const t=v.value&&m.value[v.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach((e=>{const t=f.value[e];t&&b(e,t.indexPath)}))})),Ce((()=>{"horizontal"===e.mode&&e.ellipsis?E=x(r,k).stop:null==E||E()}));const _=L(!1);{const t=e=>{f.value[e.index]=e},n=e=>{delete f.value[e.index]},o=e=>{m.value[e.index]=e},a=e=>{delete m.value[e.index]};N("rootMenu",be({props:e,openedMenus:p,items:m,subMenus:f,activeIndex:v,isMenuPopup:h,addMenuItem:o,removeMenuItem:a,addSubMenu:t,removeSubMenu:n,openMenu:b,closeMenu:y,handleMenuItemClick:I,handleSubMenuClick:w})),N(`subMenu:${l.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:_,level:0})}ge((()=>{"horizontal"===e.mode&&new Pt(l.vnode.el,u.namespace.value)}));o({open:e=>{const{indexPath:t}=f.value[e];t.forEach((e=>b(e,t)))},close:g,handleResize:k});return()=>{var o,l;let a=null!=(l=null==(o=n.default)?void 0:o.call(n))?l:[];const i=[];if("horizontal"===e.mode&&r.value){const t=Ze(a),n=-1===c.value?t:t.slice(0,c.value),o=-1===c.value?[]:t.slice(c.value);(null==o?void 0:o.length)&&e.ellipsis&&(a=n,i.push(ye(Dt,{index:"sub-menu-more",class:d.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>ye(s,{class:d.e("icon-more")},{default:()=>ye(e.ellipsisIcon)}),default:()=>o})))}const v=Rt(e,0),m=e.closeOnClickOutside?[[P,()=>{p.value.length&&(_.value||(p.value.forEach((e=>{return t("close",e,(n=e,f.value[n].indexPath));var n})),p.value=[]))}]]:[],h=xe(ye("ul",{key:String(e.collapse),role:"menubar",ref:r,style:v.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...a,...i]),m);return e.collapseTransition&&"vertical"===e.mode?ye(Bt,(()=>h)):h}}});const Kt=e({index:{type:t([String,null]),default:null},route:{type:t([String,Object])},disabled:Boolean}),Wt="ElMenuItem";var Ht=o(z({name:Wt,components:{ElTooltip:T},props:Kt,emits:{click:e=>we(e.index)&&Array.isArray(e.indexPath)},setup(e,{emit:t}){const n=ne(),o=D("rootMenu"),l=i("menu"),a=i("menu-item");o||g(Wt,"can not inject root menu");const{parentMenu:r,indexPath:s}=At(n,K(e,"index")),u=D(`subMenu:${r.value.uid}`);u||g(Wt,"can not inject sub menu");const d=j((()=>e.index===o.activeIndex)),c=be({index:e.index,indexPath:s,active:d});return ge((()=>{u.addSubMenu(c),o.addMenuItem(c)})),oe((()=>{u.removeSubMenu(c),o.removeMenuItem(c)})),{parentMenu:r,rootMenu:o,active:d,nsMenu:l,nsMenuItem:a,handleClick:()=>{e.disabled||(o.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))}}}}),[["render",function(e,t,n,o,l,a){const r=U("el-tooltip");return V(),le("li",{class:se([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?(V(),J(r,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Y((()=>[q(e.$slots,"title")])),default:Y((()=>[ue("div",{class:se(e.nsMenu.be("tooltip","trigger"))},[q(e.$slots,"default")],2)])),_:3},8,["effect"])):(V(),le(pe,{key:1},[q(e.$slots,"default"),q(e.$slots,"title")],64))],2)}],["__file","menu-item.vue"]]);var qt=o(z({name:"ElMenuItemGroup",props:{title:String},setup:()=>({ns:i("menu-item-group")})}),[["render",function(e,t,n,o,l,a){return V(),le("li",{class:se(e.ns.b())},[ue("div",{class:se(e.ns.e("title"))},[e.$slots.title?q(e.$slots,"title",{key:1}):(V(),le(pe,{key:0},[Ee(_e(e.title),1)],64))],2),ue("ul",null,[q(e.$slots,"default")])],2)}],["__file","menu-item-group.vue"]]);const Ut=p(Gt,{MenuItem:Ht,MenuItemGroup:qt,SubMenu:Dt}),Vt=v(Ht);v(qt),v(Dt);const Jt=e=>(Ae("data-v-b2b8826c"),e=e(),Oe(),e),Yt=Jt((()=>ue("div",{class:"show"},null,-1))),Qt=Jt((()=>ue("div",{class:"win"},null,-1))),Xt=Jt((()=>ue("div",{class:"logo"},[Ee("iMark "),ue("span",null,"智能阅卷平台")],-1))),Zt={class:"nav"},en={class:"el-dropdown__box"},tn={class:"bottom"},nn=Jt((()=>ue("span",null,"首页",-1))),on=Jt((()=>ue("span",null,"考试管理",-1))),ln=Jt((()=>ue("span",null,"答卷上传",-1))),an=Jt((()=>ue("span",null,"阅卷",-1))),rn=Jt((()=>ue("span",null,"单卷分析",-1))),sn=Jt((()=>ue("span",null,"个人信息",-1))),un={class:"main"},dn={class:"bottom"},cn=Se({__name:"LayoutPage",setup(e){const t=Re(),n=Te(),o=ze(),l=async()=>{await A.confirm("您确定退出吗","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),n.push("/login"),Le.success("退出成功"),t.updateUserInfo({})},a=L(!1),i=L(null),u=L(null),d=L(null),c=L(null),p=L(null),v=L(null),m=L(0),f=[{title:"AI助手",description:"可以在这里向AI咨询问题",target:()=>i.value&&i.value.$el,placement:"right"},{title:"考试管理",description:"可以在这里管理了上传的试题、试卷以及考试",target:()=>u.value&&u.value.$el,placement:"right"},{title:"答卷上传",description:"可以在这里对创建后的考试进行答卷与准考证号的上传,分配阅卷任务",target:()=>d.value&&d.value.$el,placement:"right"},{title:"阅卷",description:"可以在这里对已经分配好阅卷任务的考试进行批阅和查看批阅成绩单",target:()=>c.value&&c.value.$el,placement:"right"},{title:"单卷分析",description:"可以在这里对批改完的考试可视化查看结果",target:()=>p.value&&p.value.$el,placement:"right"},{title:"个人信息",description:"可以在这里查看该账户的个人信息",target:()=>v.value&&v.value.$el,placement:"right"}];return(e,h)=>{const b=r,g=U("a-tour"),y=R,w=s,x=St,I=Tt,C=_t,S=k,T=Vt,$=U("Files"),F=U("Camera"),P=U("Tickets"),B=U("DataLine"),A=Ut,O=E,z=U("router-view"),L=_,D=M;return V(),J(D,null,{default:Y((()=>[Yt,Qt,Z(S,null,{default:Y((()=>[Xt,ue("div",Zt,[Z(b,{class:"shen",color:"#045afe",size:"large"},{default:Y((()=>[Ee("身份:教师")])),_:1}),Z(b,{onClick:h[0]||(h[0]=e=>a.value=!0),class:"tour",size:"large"},{default:Y((()=>[Ee("导航栏介绍")])),_:1}),Z(g,{current:m.value,"onUpdate:current":h[1]||(h[1]=e=>m.value=e),open:a.value,steps:f,onClose:h[2]||(h[2]=e=>{return t=!1,void(a.value=t);var t})},null,8,["current","open"]),Z(C,{placement:"bottom-end"},{dropdown:Y((()=>[Z(I,null,{default:Y((()=>[Z(x,{command:"user",icon:W($e),onClick:h[3]||(h[3]=()=>{W(o).updateActiveWeb(4),W(n).push("/user")})},{default:Y((()=>[Ee("个人中心")])),_:1},8,["icon"]),Z(x,{onClick:l,command:"esc",icon:W(Fe)},{default:Y((()=>[Ee("退出登录")])),_:1},8,["icon"])])),_:1})])),default:Y((()=>[ue("span",en,[Z(y,{src:W(t).userInfo.avatar},null,8,["src"]),Z(w,null,{default:Y((()=>[Z(W(Pe))])),_:1})])])),_:1})])])),_:1}),Z(L,null,{default:Y((()=>[Z(O,null,{default:Y((()=>[ue("div",tn,[Z(A,{"background-color":"rgb(255,255,255)",router:""},{default:Y((()=>[Z(T,{ref_key:"ref1",ref:i,index:"/home",onClick:h[4]||(h[4]=()=>{W(o).updateActiveWeb(0)}),class:se({active:0==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z(W(Be))])),_:1}),nn])),_:1},8,["class"]),Z(T,{ref_key:"ref2",ref:u,index:"/add",onClick:h[5]||(h[5]=()=>{W(o).updateActiveWeb(1)}),class:se({active:1==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z($)])),_:1}),on])),_:1},8,["class"]),Z(T,{ref_key:"ref3",ref:d,index:"/aw",onClick:h[6]||(h[6]=()=>{W(o).updateActiveWeb(5)}),class:se({active:5==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z(F)])),_:1}),ln])),_:1},8,["class"]),Z(T,{ref_key:"ref4",ref:c,index:"/read",onClick:h[7]||(h[7]=()=>{W(o).updateActiveWeb(2)}),class:se({active:2==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z(P)])),_:1}),an])),_:1},8,["class"]),Z(T,{ref_key:"ref5",ref:p,index:"/fenxi",onClick:h[8]||(h[8]=()=>{W(o).updateActiveWeb(3)}),class:se({active:3==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z(B)])),_:1}),rn])),_:1},8,["class"]),Z(T,{ref_key:"ref6",ref:v,index:"/user",onClick:h[9]||(h[9]=()=>{W(o).updateActiveWeb(4)}),class:se({active:4==W(o).activePath})},{default:Y((()=>[Z(w,null,{default:Y((()=>[Z(W($e))])),_:1}),sn])),_:1},8,["class"])])),_:1})])])),_:1}),ue("div",un,[ue("div",dn,[Z(z)])])])),_:1})])),_:1})}}},[["__scopeId","data-v-b2b8826c"]]);export{cn as default};
