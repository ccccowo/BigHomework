import{b as e,u as a,_ as l,w as s,d as t,m as r,i as u,E as o,a as d}from"./el-button-wvYaTM86.js";import{E as n}from"./el-overlay-3IU7Au7U.js";import{E as p,a as i}from"./el-descriptions-item-ILXomyKi.js";import{E as f,a as m,b as c}from"./el-main-SzJ5Bc3_.js";import{E as g,a as v}from"./el-form-item-XdtgwD_C.js";/* empty css                *//* empty css                 */import{d as b,c as _,p as y,o as j,a as w,w as x,r as h,n as V,u as $,b as E,e as k,i as I,f as N,_ as C,g as q,h as O,j as U,k as S,l as z,F as R,m as L,q as M,s as A,t as B,v as D,x as F,y as K}from"./index-afE12XCz.js";import{l as P,r as G}from"./user-CfAXcCoh.js";import{u as H}from"./userStore-7h9e-sH4.js";/* empty css                   */import{E as J}from"./index-N5fRpmYF.js";import{E as Q}from"./index-JPUmXDR2.js";import"./index-KKobhxVb.js";import"./focus-trap-5pso-6bw.js";import"./castArray-k9TcYJOl.js";import"./_baseClone-SyVPMbir.js";import"./_initCloneObject-zYbwKfTJ.js";import"./request2-8GU6WOJp.js";import"./axios--miOKxDG.js";const T=Symbol("rowContextKey"),W=e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}}),X=b({name:"ElRow"});const Y=s(l(b({...X,props:W,setup(e){const l=e,s=a("row"),t=_((()=>l.gutter));y(T,{gutter:t});const r=_((()=>{const e={};return l.gutter?(e.marginRight=e.marginLeft=`-${l.gutter/2}px`,e):e})),u=_((()=>[s.b(),s.is(`justify-${l.justify}`,"start"!==l.justify),s.is(`align-${l.align}`,!!l.align)]));return(e,a)=>(j(),w(k(e.tag),{class:V($(u)),style:E($(r))},{default:x((()=>[h(e.$slots,"default")])),_:3},8,["class","style"]))}}),[["__file","row.vue"]])),Z=e({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:t([Number,Object]),default:()=>r({})},sm:{type:t([Number,Object]),default:()=>r({})},md:{type:t([Number,Object]),default:()=>r({})},lg:{type:t([Number,Object]),default:()=>r({})},xl:{type:t([Number,Object]),default:()=>r({})}}),ee=b({name:"ElCol"});const ae=s(l(b({...ee,props:Z,setup(e){const l=e,{gutter:s}=I(T,{gutter:_((()=>0))}),t=a("col"),r=_((()=>{const e={};return s.value&&(e.paddingLeft=e.paddingRight=s.value/2+"px"),e})),o=_((()=>{const e=[];["span","offset","pull","push"].forEach((a=>{const s=l[a];u(s)&&("span"===a?e.push(t.b(`${l[a]}`)):s>0&&e.push(t.b(`${a}-${l[a]}`)))}));return["xs","sm","md","lg","xl"].forEach((a=>{u(l[a])?e.push(t.b(`${a}-${l[a]}`)):N(l[a])&&Object.entries(l[a]).forEach((([l,s])=>{e.push("span"!==l?t.b(`${a}-${l}-${s}`):t.b(`${a}-${s}`))}))})),s.value&&e.push(t.is("guttered")),[t.b(),e]}));return(e,a)=>(j(),w(k(e.tag),{class:V($(o)),style:E($(r))},{default:x((()=>[h(e.$slots,"default")])),_:3},8,["class","style"]))}}),[["__file","col.vue"]])),le=e=>(F("data-v-1fe50b3e"),e=e(),K(),e),se=le((()=>B("span",null,"智能阅卷平台",-1))),te=le((()=>B("div",{class:"title"},"登 录",-1))),re=le((()=>B("span",null,"注册",-1))),ue=le((()=>B("div",{class:"title"},"注 册",-1))),oe=le((()=>B("span",null,"登录",-1))),de=le((()=>B("div",{class:"bg"},null,-1))),ne=le((()=>B("div",null,"用户名",-1))),pe=le((()=>B("div",null,"账号",-1))),ie=le((()=>B("div",null,"密码",-1))),fe=C({__name:"LoginPage",setup(e){const a=H(),l=q(),s=O(!0),t=O({roleId:"",password:""}),r={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:6,message:"用户名长度在 1 到 6 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"密码长度在 6 到 15 个字符",trigger:"blur"},{pattern:/^[^\s]*$/,message:"密码不能包含空格",trigger:"blur"}],roleId:[{required:!0,message:"请输入账号",trigger:"blur"},{len:11,message:"角色ID必须为11位数字",trigger:"blur"},{pattern:/^\d{11}$/,message:"账号只能为11位数字",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(e,a,l){""===a?l(new Error("请再次输入密码")):a!==_.value.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]};const u=O(),b=async()=>{await u.value.validate();const e=await P(t.value);J.success("登录成功"),a.updateUserInfo(e.data.data),l.push("/home")},_=O({roleId:"",username:"",password:"",repassword:""}),y=O(),h=O(!1),V=O({}),E=async()=>{await y.value.validate(),_.value.roleId=function(e){for(var a="",l=0;l<e;l++)a+=Math.floor(10*Math.random());return a}(11);const e=await G(_.value);J.success("注册成功"),V.value=e.data.data,h.value=!0,_.value={}};return(e,a)=>{const l=m,k=g,I=Q,N=o,C=U("ArrowLeftBold"),q=d,O=v,F=ae,K=Y,P=c,G=f,H=p,J=i,T=n;return j(),S(R,null,[z(G,null,{default:x((()=>[z(l,null,{default:x((()=>[L("iMark "),se])),_:1}),z(P,null,{default:x((()=>[z(K,null,{default:x((()=>[z(F,{class:"loginBox",span:10,offset:12},{default:x((()=>[s.value?(j(),w(O,{key:0,ref_key:"formRef",ref:u,rules:r,model:t.value,size:"large",autocomplete:"off"},{default:x((()=>[z(k,null,{default:x((()=>[te])),_:1}),z(k,{prop:"roleId"},{default:x((()=>[z(I,{modelValue:t.value.roleId,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.roleId=e),"prefix-icon":$(M),placeholder:"请输入账号"},null,8,["modelValue","prefix-icon"])])),_:1}),z(k,{prop:"password"},{default:x((()=>[z(I,{modelValue:t.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.password=e),"prefix-icon":$(A),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])])),_:1}),z(k,null,{default:x((()=>[z(N,{onClick:b,class:"button",color:"#045afe"},{default:x((()=>[L("登 录")])),_:1})])),_:1}),z(k,{class:"to"},{default:x((()=>[B("a",{href:"javascript:;",onClick:a[2]||(a[2]=e=>s.value=!1)},[z(q,null,{default:x((()=>[z(C)])),_:1}),re])])),_:1})])),_:1},8,["model"])):(j(),w(O,{key:1,ref_key:"formRef2",ref:y,rules:r,model:_.value,size:"large",autocomplete:"off"},{default:x((()=>[z(k,null,{default:x((()=>[ue])),_:1}),z(k,{prop:"username"},{default:x((()=>[z(I,{modelValue:_.value.username,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value.username=e),"prefix-icon":$(M),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])])),_:1}),z(k,{prop:"password"},{default:x((()=>[z(I,{modelValue:_.value.password,"onUpdate:modelValue":a[4]||(a[4]=e=>_.value.password=e),"prefix-icon":$(A),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])])),_:1}),z(k,{prop:"repassword"},{default:x((()=>[z(I,{modelValue:_.value.repassword,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.repassword=e),"prefix-icon":$(A),type:"password",placeholder:"请再次输入密码"},null,8,["modelValue","prefix-icon"])])),_:1}),z(k,null,{default:x((()=>[z(N,{onClick:E,class:"button",color:"#045afe"},{default:x((()=>[L("注 册")])),_:1})])),_:1}),z(k,{class:"to"},{default:x((()=>[B("a",{href:"javascript:;",onClick:a[6]||(a[6]=e=>s.value=!0)},[z(q,null,{default:x((()=>[z(C)])),_:1}),oe])])),_:1})])),_:1},8,["model"]))])),_:1}),de])),_:1})])),_:1})])),_:1}),z(T,{modelValue:h.value,"onUpdate:modelValue":a[7]||(a[7]=e=>h.value=e)},{default:x((()=>[z(J,{class:"margin-top",column:3,size:e.size,border:""},{default:x((()=>[z(H,null,{label:x((()=>[ne])),default:x((()=>[L(" "+D(V.value.username),1)])),_:1}),z(H,null,{label:x((()=>[pe])),default:x((()=>[L(" "+D(V.value.roleId),1)])),_:1}),z(H,null,{label:x((()=>[ie])),default:x((()=>[L(" "+D(V.value.password),1)])),_:1})])),_:1},8,["size"])])),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-1fe50b3e"]]);export{fe as default};
