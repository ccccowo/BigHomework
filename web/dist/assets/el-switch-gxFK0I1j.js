import{M as A,d as J,c as w,h as L,A as U,B as fe,o as c,j as I,s as j,u as s,n as k,E as me,a as g,w as S,e as T,I as y,t as R,aD as pe,k as ce,r as ae,b as oe,L as be,T as Q,aE as le,a7 as ge,z as ye,aF as he,U as Ce,ad as B,W as ke,D as we,X as Ie,f as ue,S as Se,aG as Ve}from"./index-8Q_9VYoB.js";import{b as Ee,n as z,d as Te,f as O,i as G,u as Be,e as Ne,E,_ as Ae,l as Le,t as Pe,g as _e,w as xe,r as F,A as $e,z as N,p as ne}from"./base-fLZH5HYv.js";import{i as ze}from"./validator-SivaTYXf.js";import{U as H,C as W,I as q,b as De,c as Oe,e as Fe,d as Ke,j as Me}from"./el-button-ERDUNANg.js";const Ue=Ee({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:ze},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:z},activeActionIcon:{type:z},activeIcon:{type:z},inactiveIcon:{type:z},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Te(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),je={[H]:e=>O(e)||A(e)||G(e),[W]:e=>O(e)||A(e)||G(e),[q]:e=>O(e)||A(e)||G(e)},Re=["onClick"],Ge=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],He=["aria-hidden"],We=["aria-hidden"],qe=["aria-hidden"],X="ElSwitch",Xe=J({name:X}),Ye=J({...Xe,props:Ue,emits:je,setup(e,{expose:t,emit:l}){const a=e,u=ge(),{formItem:i}=De(),m=Oe(),r=Be("switch");(o=>{o.forEach(v=>{Le({from:v[0],replacement:v[1],scope:X,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},w(()=>{var $;return!!(($=u.vnode.props)!=null&&$[v[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:h}=Fe(a,{formItemContext:i}),C=Ke(w(()=>a.loading)),p=L(a.modelValue!==!1),n=L(),f=L(),b=w(()=>[r.b(),r.m(m.value),r.is("disabled",C.value),r.is("checked",d.value)]),K=w(()=>[r.e("label"),r.em("label","left"),r.is("active",!d.value)]),P=w(()=>[r.e("label"),r.em("label","right"),r.is("active",d.value)]),M=w(()=>({width:_e(a.width)}));U(()=>a.modelValue,()=>{p.value=!0}),U(()=>a.value,()=>{p.value=!1});const _=w(()=>p.value?a.modelValue:a.value),d=w(()=>_.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(_.value)||(l(H,a.inactiveValue),l(W,a.inactiveValue),l(q,a.inactiveValue)),U(d,o=>{var v;n.value.checked=o,a.validateEvent&&((v=i==null?void 0:i.validate)==null||v.call(i,"change").catch($=>Ne()))});const x=()=>{const o=d.value?a.inactiveValue:a.activeValue;l(H,o),l(W,o),l(q,o),Q(()=>{n.value.checked=d.value})},ee=()=>{if(C.value)return;const{beforeChange:o}=a;if(!o){x();return}const v=o();[le(v),O(v)].includes(!0)||Pe(X,"beforeChange must return type `Promise<boolean>` or `boolean`"),le(v)?v.then(te=>{te&&x()}).catch(te=>{}):v&&x()},de=w(()=>r.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),ve=()=>{var o,v;(v=(o=n.value)==null?void 0:o.focus)==null||v.call(o)};return fe(()=>{n.value.checked=d.value}),t({focus:ve,checked:d}),(o,v)=>(c(),I("div",{class:k(s(b)),style:oe(s(de)),onClick:be(ee,["prevent"])},[j("input",{id:s(h),ref_key:"input",ref:n,class:k(s(r).e("input")),type:"checkbox",role:"switch","aria-checked":s(d),"aria-disabled":s(C),"aria-label":o.label,name:o.name,"true-value":o.activeValue,"false-value":o.inactiveValue,disabled:s(C),tabindex:o.tabindex,onChange:x,onKeydown:me(ee,["enter"])},null,42,Ge),!o.inlinePrompt&&(o.inactiveIcon||o.inactiveText)?(c(),I("span",{key:0,class:k(s(K))},[o.inactiveIcon?(c(),g(s(E),{key:0},{default:S(()=>[(c(),g(T(o.inactiveIcon)))]),_:1})):y("v-if",!0),!o.inactiveIcon&&o.inactiveText?(c(),I("span",{key:1,"aria-hidden":s(d)},R(o.inactiveText),9,He)):y("v-if",!0)],2)):y("v-if",!0),j("span",{ref_key:"core",ref:f,class:k(s(r).e("core")),style:oe(s(M))},[o.inlinePrompt?(c(),I("div",{key:0,class:k(s(r).e("inner"))},[o.activeIcon||o.inactiveIcon?(c(),g(s(E),{key:0,class:k(s(r).is("icon"))},{default:S(()=>[(c(),g(T(s(d)?o.activeIcon:o.inactiveIcon)))]),_:1},8,["class"])):o.activeText||o.inactiveText?(c(),I("span",{key:1,class:k(s(r).is("text")),"aria-hidden":!s(d)},R(s(d)?o.activeText:o.inactiveText),11,We)):y("v-if",!0)],2)):y("v-if",!0),j("div",{class:k(s(r).e("action"))},[o.loading?(c(),g(s(E),{key:0,class:k(s(r).is("loading"))},{default:S(()=>[ce(s(pe))]),_:1},8,["class"])):s(d)?ae(o.$slots,"active-action",{key:1},()=>[o.activeActionIcon?(c(),g(s(E),{key:0},{default:S(()=>[(c(),g(T(o.activeActionIcon)))]),_:1})):y("v-if",!0)]):s(d)?y("v-if",!0):ae(o.$slots,"inactive-action",{key:2},()=>[o.inactiveActionIcon?(c(),g(s(E),{key:0},{default:S(()=>[(c(),g(T(o.inactiveActionIcon)))]),_:1})):y("v-if",!0)])],2)],6),!o.inlinePrompt&&(o.activeIcon||o.activeText)?(c(),I("span",{key:1,class:k(s(P))},[o.activeIcon?(c(),g(s(E),{key:0},{default:S(()=>[(c(),g(T(o.activeIcon)))]),_:1})):y("v-if",!0),!o.activeIcon&&o.activeText?(c(),I("span",{key:1,"aria-hidden":!s(d)},R(o.activeText),9,qe)):y("v-if",!0)],2)):y("v-if",!0)],14,Re))}});var Ze=Ae(Ye,[["__file","switch.vue"]]);const st=xe(Ze);function Je(e){let t;const l=L(!1),a=ye({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(n){a.text=n}function i(){const n=a.parent,f=p.ns;if(!n.vLoadingAddClassList){let b=n.getAttribute("loading-number");b=Number.parseInt(b)-1,b?n.setAttribute("loading-number",b.toString()):(F(n,f.bm("parent","relative")),n.removeAttribute("loading-number")),F(n,f.bm("parent","hidden"))}m(),C.unmount()}function m(){var n,f;(f=(n=p.$el)==null?void 0:n.parentNode)==null||f.removeChild(p.$el)}function r(){var n;e.beforeClose&&!e.beforeClose()||(l.value=!0,clearTimeout(t),t=window.setTimeout(V,400),a.visible=!1,(n=e.closed)==null||n.call(e))}function V(){if(!l.value)return;const n=a.parent;l.value=!1,n.vLoadingAddClassList=void 0,i()}const h=J({name:"ElLoading",setup(n,{expose:f}){const{ns:b,zIndex:K}=Me("loading");return f({ns:b,zIndex:K}),()=>{const P=a.spinner||a.svg,M=B("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...P?{innerHTML:P}:{}},[B("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=a.text?B("p",{class:b.b("text")},[a.text]):void 0;return B(Ie,{name:b.b("fade"),onAfterLeave:V},{default:S(()=>[we(ce("div",{style:{backgroundColor:a.background||""},class:[b.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[B("div",{class:b.b("spinner")},[M,_])]),[[ke,a.visible]])])})}}}),C=he(h),p=C.mount(document.createElement("div"));return{...Ce(a),setText:u,removeElLoadingChild:m,close:r,handleAfterLeave:V,vm:p,get $el(){return p.$el}}}let D;const Y=function(e={}){if(!$e)return;const t=Qe(e);if(t.fullscreen&&D)return D;const l=Je({...t,closed:()=>{var u;(u=t.closed)==null||u.call(t),t.fullscreen&&(D=void 0)}});et(t,t.parent,l),se(t,t.parent,l),t.parent.vLoadingAddClassList=()=>se(t,t.parent,l);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(l.$el),Q(()=>l.visible.value=t.visible),t.fullscreen&&(D=l),l},Qe=e=>{var t,l,a,u;let i;return A(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((l=e.fullscreen)!=null?l:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(u=e.visible)!=null?u:!0,target:i}},et=async(e,t,l)=>{const{nextZIndex:a}=l.vm.zIndex||l.vm._.exposed.zIndex,u={};if(e.fullscreen)l.originalPosition.value=N(document.body,"position"),l.originalOverflow.value=N(document.body,"overflow"),u.zIndex=a();else if(e.parent===document.body){l.originalPosition.value=N(document.body,"position"),await Q();for(const i of["top","left"]){const m=i==="top"?"scrollTop":"scrollLeft";u[i]=`${e.target.getBoundingClientRect()[i]+document.body[m]+document.documentElement[m]-Number.parseInt(N(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])u[i]=`${e.target.getBoundingClientRect()[i]}px`}else l.originalPosition.value=N(t,"position");for(const[i,m]of Object.entries(u))l.$el.style[i]=m},se=(e,t,l)=>{const a=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?F(t,a.bm("parent","relative")):ne(t,a.bm("parent","relative")),e.fullscreen&&e.lock?ne(t,a.bm("parent","hidden")):F(t,a.bm("parent","hidden"))},Z=Symbol("ElLoading"),ie=(e,t)=>{var l,a,u,i;const m=t.instance,r=n=>ue(t.value)?t.value[n]:void 0,V=n=>{const f=A(n)&&(m==null?void 0:m[n])||n;return f&&L(f)},h=n=>V(r(n)||e.getAttribute(`element-loading-${Ve(n)}`)),C=(l=r("fullscreen"))!=null?l:t.modifiers.fullscreen,p={text:h("text"),svg:h("svg"),svgViewBox:h("svgViewBox"),spinner:h("spinner"),background:h("background"),customClass:h("customClass"),fullscreen:C,target:(a=r("target"))!=null?a:C?void 0:e,body:(u=r("body"))!=null?u:t.modifiers.body,lock:(i=r("lock"))!=null?i:t.modifiers.lock};e[Z]={options:p,instance:Y(p)}},tt=(e,t)=>{for(const l of Object.keys(t))Se(t[l])&&(t[l].value=e[l])},re={mounted(e,t){t.value&&ie(e,t)},updated(e,t){const l=e[Z];t.oldValue!==t.value&&(t.value&&!t.oldValue?ie(e,t):t.value&&t.oldValue?ue(t.value)&&tt(t.value,l.options):l==null||l.instance.close())},unmounted(e){var t;(t=e[Z])==null||t.instance.close()}},it={install(e){e.directive("loading",re),e.config.globalProperties.$loading=Y},directive:re,service:Y};export{it as E,st as a};
