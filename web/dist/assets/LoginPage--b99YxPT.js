import{b as F,u as K,_ as z,w as T,d as I,m as V,i as O,E as le}from"./base-fLZH5HYv.js";import{E as ae}from"./el-overlay-3p0HJUYO.js";import{E as re,a as ne}from"./el-descriptions-item-lbh3mq-T.js";import{E as ue,a as de,b as ie}from"./el-main-mTrhMpk5.js";import{E as pe,a as me}from"./el-form-item-Se7SvOzn.js";/* empty css                */import{E as ce}from"./el-button-ERDUNANg.js";/* empty css                 */import{d as R,c as x,p as fe,o as N,a as C,w as t,r as H,n as J,u as m,b as G,e as Q,i as _e,f as ge,_ as ve,g as be,h as v,j as ye,k as e,F as we,l as h,m as q,q as k,s as i,t as B,v as Ee,x as he,y as xe}from"./index-8Q_9VYoB.js";import{l as $e,r as Ie}from"./el-message-1MHjJ0fX.js";import{u as Ve}from"./userStore-ZLRZICUc.js";import{E as A}from"./index-KvpZgIRM.js";import{E as Ne}from"./index-EGs59zJd.js";import"./index-MF98tEZs.js";import"./vnode-V_EyjqrJ.js";import"./focus-trap-pXtmz6jJ.js";import"./castArray-RdmDEgzm.js";import"./_baseClone-kDeojI09.js";import"./_Uint8Array-LNA8QHR0.js";import"./_initCloneObject-1JMVk_fm.js";import"./request2-j_m9nIWH.js";import"./axios-_sX4vCAy.js";const W=Symbol("rowContextKey"),je=["start","center","end","space-around","space-between","space-evenly"],Ce=["top","middle","bottom"],Re=F({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:je,default:"start"},align:{type:String,values:Ce}}),Se=R({name:"ElRow"}),ke=R({...Se,props:Re,setup(f){const a=f,p=K("row"),n=x(()=>a.gutter);fe(W,{gutter:n});const d=x(()=>{const s={};return a.gutter&&(s.marginRight=s.marginLeft=`-${a.gutter/2}px`),s}),w=x(()=>[p.b(),p.is(`justify-${a.justify}`,a.justify!=="start"),p.is(`align-${a.align}`,!!a.align)]);return(s,$)=>(N(),C(Q(s.tag),{class:J(m(w)),style:G(m(d))},{default:t(()=>[H(s.$slots,"default")]),_:3},8,["class","style"]))}});var Be=z(ke,[["__file","row.vue"]]);const Le=T(Be),Pe=F({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:I([Number,Object]),default:()=>V({})},sm:{type:I([Number,Object]),default:()=>V({})},md:{type:I([Number,Object]),default:()=>V({})},lg:{type:I([Number,Object]),default:()=>V({})},xl:{type:I([Number,Object]),default:()=>V({})}}),Ue=R({name:"ElCol"}),De=R({...Ue,props:Pe,setup(f){const a=f,{gutter:p}=_e(W,{gutter:x(()=>0)}),n=K("col"),d=x(()=>{const s={};return p.value&&(s.paddingLeft=s.paddingRight=`${p.value/2}px`),s}),w=x(()=>{const s=[];return["span","offset","pull","push"].forEach(o=>{const _=a[o];O(_)&&(o==="span"?s.push(n.b(`${a[o]}`)):_>0&&s.push(n.b(`${o}-${a[o]}`)))}),["xs","sm","md","lg","xl"].forEach(o=>{O(a[o])?s.push(n.b(`${o}-${a[o]}`)):ge(a[o])&&Object.entries(a[o]).forEach(([_,E])=>{s.push(_!=="span"?n.b(`${o}-${_}-${E}`):n.b(`${o}-${E}`))})}),p.value&&s.push(n.is("guttered")),[n.b(),s]});return(s,$)=>(N(),C(Q(s.tag),{class:J(m(w)),style:G(m(d))},{default:t(()=>[H(s.$slots,"default")]),_:3},8,["class","style"]))}});var Me=z(De,[["__file","col.vue"]]);const Oe=T(Me),c=f=>(he("data-v-5209fd9c"),f=f(),xe(),f),qe=c(()=>i("span",null,"智能阅卷平台",-1)),Ae=c(()=>i("div",{class:"title"},"登 录",-1)),Fe=c(()=>i("span",null,"注册",-1)),Ke=c(()=>i("div",{class:"title"},"注 册",-1)),ze=c(()=>i("span",null,"登录",-1)),Te=c(()=>i("div",{class:"bg"},null,-1)),He=c(()=>i("div",null,"用户名",-1)),Je=c(()=>i("div",null,"账号",-1)),Ge=c(()=>i("div",null,"密码",-1)),Qe={__name:"LoginPage",setup(f){const a=Ve(),p=be(),n=v(!0),d=v({roleId:"",password:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:6,message:"用户名长度在 1 到 6 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"密码长度在 6 到 15 个字符",trigger:"blur"},{pattern:/^[^\s]*$/,message:"密码不能包含空格",trigger:"blur"}],roleId:[{required:!0,message:"请输入账号",trigger:"blur"},{len:11,message:"角色ID必须为11位数字",trigger:"blur"},{pattern:/^\d{11}$/,message:"账号只能为11位数字",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:s,trigger:"blur"}]};function s(b,l,y){l===""?y(new Error("请再次输入密码")):l!==o.value.password?y(new Error("两次输入的密码不一致")):y()}const $=v(),L=async()=>{await $.value.validate(),console.log(d.value);const b=await $e(d.value);console.log(b.data),A.success("登录成功"),a.updateUserInfo(b.data.data),p.push("/home")},o=v({roleId:"",username:"",password:"",repassword:""});v([]);const _=v(),E=v(!1),j=v({}),X=async()=>{await _.value.validate();function b(y){for(var r="",g=0;g<y;g++)r+=Math.floor(Math.random()*10);return r}o.value.roleId=b(11),console.log(o.value);const l=await Ie(o.value);console.log(l.data),A.success("注册成功"),j.value=l.data.data,E.value=!0,o.value={}};return(b,l)=>{const y=de,r=pe,g=Ne,P=ce,U=Ee("ArrowLeftBold"),D=le,M=me,Y=Oe,Z=Le,ee=ie,te=ue,S=re,oe=ne,se=ae;return N(),ye(we,null,[e(te,null,{default:t(()=>[e(y,null,{default:t(()=>[h("iMark "),qe]),_:1}),e(ee,null,{default:t(()=>[e(Z,null,{default:t(()=>[e(Y,{class:"loginBox",span:10,offset:12},{default:t(()=>[n.value?(N(),C(M,{key:0,ref_key:"formRef",ref:$,rules:w,model:d.value,size:"large",autocomplete:"off"},{default:t(()=>[e(r,null,{default:t(()=>[Ae]),_:1}),e(r,{prop:"roleId"},{default:t(()=>[e(g,{modelValue:d.value.roleId,"onUpdate:modelValue":l[0]||(l[0]=u=>d.value.roleId=u),"prefix-icon":m(q),placeholder:"请输入账号"},null,8,["modelValue","prefix-icon"])]),_:1}),e(r,{prop:"password"},{default:t(()=>[e(g,{modelValue:d.value.password,"onUpdate:modelValue":l[1]||(l[1]=u=>d.value.password=u),"prefix-icon":m(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(r,null,{default:t(()=>[e(P,{onClick:L,class:"button",type:"primary"},{default:t(()=>[h("登 录")]),_:1})]),_:1}),e(r,{class:"to"},{default:t(()=>[i("a",{href:"javascript:;",onClick:l[2]||(l[2]=u=>n.value=!1)},[e(D,null,{default:t(()=>[e(U)]),_:1}),Fe])]),_:1})]),_:1},8,["model"])):(N(),C(M,{key:1,ref_key:"formRef2",ref:_,rules:w,model:o.value,size:"large",autocomplete:"off"},{default:t(()=>[e(r,null,{default:t(()=>[Ke]),_:1}),e(r,{prop:"username"},{default:t(()=>[e(g,{modelValue:o.value.username,"onUpdate:modelValue":l[3]||(l[3]=u=>o.value.username=u),"prefix-icon":m(q),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(r,{prop:"password"},{default:t(()=>[e(g,{modelValue:o.value.password,"onUpdate:modelValue":l[4]||(l[4]=u=>o.value.password=u),"prefix-icon":m(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(r,{prop:"repassword"},{default:t(()=>[e(g,{modelValue:o.value.repassword,"onUpdate:modelValue":l[5]||(l[5]=u=>o.value.repassword=u),"prefix-icon":m(k),type:"password",placeholder:"请再次输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(r,null,{default:t(()=>[e(P,{onClick:X,class:"button",type:"primary"},{default:t(()=>[h("注 册")]),_:1})]),_:1}),e(r,{class:"to"},{default:t(()=>[i("a",{href:"javascript:;",onClick:l[6]||(l[6]=u=>n.value=!0)},[e(D,null,{default:t(()=>[e(U)]),_:1}),ze])]),_:1})]),_:1},8,["model"]))]),_:1}),Te]),_:1})]),_:1})]),_:1}),e(se,{modelValue:E.value,"onUpdate:modelValue":l[7]||(l[7]=u=>E.value=u)},{default:t(()=>[e(oe,{class:"margin-top",column:3,size:b.size,border:""},{default:t(()=>[e(S,null,{label:t(()=>[He]),default:t(()=>[h(" "+B(j.value.username),1)]),_:1}),e(S,null,{label:t(()=>[Je]),default:t(()=>[h(" "+B(j.value.roleId),1)]),_:1}),e(S,null,{label:t(()=>[Ge]),default:t(()=>[h(" "+B(j.value.password),1)]),_:1})]),_:1},8,["size"])]),_:1},8,["modelValue"])],64)}}},bt=ve(Qe,[["__scopeId","data-v-5209fd9c"]]);export{bt as default};
