import{d as e,i as o,c as l,o as a,k as s,t,r as n,n as r,u as d,v as i,l as u,w as c,e as f,a as p,I as v,b as y,a5 as m,h as g,A as b,T as C,B as h,a0 as k,p as A,N as F,a7 as B,W as I,D as R,X as x,Y as $}from"./index-afE12XCz.js";import{u as S,c as w,a as D,E as L,b as _}from"./index-KKobhxVb.js";import{b as E,x as M,f as T,a as O,_ as z,a5 as P,d as q,U as j,n as N,a6 as U,q as V,a7 as K,o as W,a8 as X,F as Y,P as Z,v as G,u as H,w as J}from"./el-button-wvYaTM86.js";import{F as Q,i as ee,E as oe}from"./focus-trap-5pso-6bw.js";const le=Symbol("dialogInjectionKey"),ae=E({center:Boolean,alignCenter:Boolean,closeIcon:{type:M},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),se=["aria-level"],te=["aria-label"],ne=["id"],re=e({name:"ElDialogContent"});var de=z(e({...re,props:ae,emits:{close:()=>!0},setup(e){const m=e,{t:g}=T(),{Close:b}=P,{dialogRef:C,headerRef:h,bodyId:k,ns:A,style:F}=o(le),{focusTrapRef:B}=o(Q),I=l((()=>[A.b(),A.is("fullscreen",m.fullscreen),A.is("draggable",m.draggable),A.is("align-center",m.alignCenter),{[A.m("center")]:m.center},m.customClass])),R=w(B,C),x=l((()=>m.draggable));return S(C,h,x),(e,o)=>(a(),s("div",{ref:d(R),class:r(d(I)),style:y(d(F)),tabindex:"-1"},[t("header",{ref_key:"headerRef",ref:h,class:r(d(A).e("header"))},[n(e.$slots,"header",{},(()=>[t("span",{role:"heading","aria-level":e.ariaLevel,class:r(d(A).e("title"))},i(e.title),11,se)])),e.showClose?(a(),s("button",{key:0,"aria-label":d(g)("el.dialog.close"),class:r(d(A).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[u(d(O),{class:r(d(A).e("close"))},{default:c((()=>[(a(),p(f(e.closeIcon||d(b))))])),_:1},8,["class"])],10,te)):v("v-if",!0)],2),t("div",{id:d(k),class:r(d(A).e("body"))},[n(e.$slots,"default")],10,ne),e.$slots.footer?(a(),s("footer",{key:0,class:r(d(A).e("footer"))},[n(e.$slots,"footer")],2)):v("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const ie=E({...ae,appendToBody:Boolean,appendTo:{type:q(String),default:"body"},beforeClose:{type:q(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[j]:e=>N(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ce=(e,o)=>{var a;const s=m().emit,{nextZIndex:t}=U();let n="";const r=V(),d=V(),i=g(!1),u=g(!1),c=g(!1),f=g(null!=(a=e.zIndex)?a:t());let p,v;const y=K("namespace",X),k=l((()=>{const o={},l=`--${y.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=W(e.width))),o})),A=l((()=>e.alignCenter?{display:"flex"}:{}));function F(){null==v||v(),null==p||p(),e.openDelay&&e.openDelay>0?({stop:p}=Y((()=>R()),e.openDelay)):R()}function B(){null==p||p(),null==v||v(),e.closeDelay&&e.closeDelay>0?({stop:v}=Y((()=>x()),e.closeDelay)):x()}function I(){e.beforeClose?e.beforeClose((function(e){e||(u.value=!0,i.value=!1)})):B()}function R(){Z&&(i.value=!0)}function x(){i.value=!1}return e.lockScroll&&D(i),b((()=>e.modelValue),(l=>{l?(u.value=!1,F(),c.value=!0,f.value=ee(e.zIndex)?t():f.value++,C((()=>{s("open"),o.value&&(o.value.scrollTop=0)}))):i.value&&B()})),b((()=>e.fullscreen),(e=>{o.value&&(e?(n=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=n)})),h((()=>{e.modelValue&&(i.value=!0,c.value=!0,F())})),{afterEnter:function(){s("opened")},afterLeave:function(){s("closed"),s(j,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){s("close")},handleClose:I,onModalClick:function(){e.closeOnClickModal&&I()},close:B,doClose:x,onOpenAutoFocus:function(){s("openAutoFocus")},onCloseAutoFocus:function(){s("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&I()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:d,closed:u,style:k,overlayDialogStyle:A,rendered:c,visible:i,zIndex:f}},fe=["aria-label","aria-labelledby","aria-describedby"],pe=e({name:"ElDialog",inheritAttrs:!1});const ve=J(z(e({...pe,props:ie,emits:ue,setup(e,{expose:o}){const s=e,i=k();G({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},l((()=>!!i.title))),G({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},l((()=>!!s.customClass)));const f=H("dialog"),m=g(),b=g(),C=g(),{visible:h,titleId:S,bodyId:w,style:D,overlayDialogStyle:E,rendered:M,zIndex:T,afterEnter:O,afterLeave:z,beforeLeave:P,handleClose:q,onModalClick:j,onOpenAutoFocus:N,onCloseAutoFocus:U,onCloseRequested:V,onFocusoutPrevented:K}=ce(s,m);A(le,{dialogRef:m,headerRef:b,bodyId:w,ns:f,rendered:M,style:D});const W=_(j),X=l((()=>s.draggable&&!s.fullscreen));return o({visible:h,dialogContentRef:C}),(e,o)=>(a(),p($,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[u(x,{name:"dialog-fade",onAfterEnter:d(O),onAfterLeave:d(z),onBeforeLeave:d(P),persisted:""},{default:c((()=>[R(u(d(L),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":d(T)},{default:c((()=>[t("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:d(S),"aria-describedby":d(w),class:r(`${d(f).namespace.value}-overlay-dialog`),style:y(d(E)),onClick:o[0]||(o[0]=(...e)=>d(W).onClick&&d(W).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>d(W).onMousedown&&d(W).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>d(W).onMouseup&&d(W).onMouseup(...e))},[u(d(oe),{loop:"",trapped:d(h),"focus-start-el":"container",onFocusAfterTrapped:d(N),onFocusAfterReleased:d(U),onFocusoutPrevented:d(K),onReleaseRequested:d(V)},{default:c((()=>[d(M)?(a(),p(de,F({key:0,ref_key:"dialogContentRef",ref:C},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:d(X),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:d(q)}),B({header:c((()=>[e.$slots.title?n(e.$slots,"title",{key:1}):n(e.$slots,"header",{key:0,close:d(q),titleId:d(S),titleClass:d(f).e("title")})])),default:c((()=>[n(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:c((()=>[n(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):v("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,fe)])),_:3},8,["mask","overlay-class","z-index"]),[[I,d(h)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{ve as E,ue as a,ie as d,ce as u};
